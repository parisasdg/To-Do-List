<div class="dashboard-header">
  <h3>لیست کارهای انجام شده</h3>
</div>
<div class="task-list">
  @if (compeetedTask && compeetedTask.length>0) {
  <div class="table-container">
    <table
      [dir]="'rtl'"
      mat-table
      [dataSource]="dataSource"
      class="full-width-table"
    >
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef>عنوان</th>
        <td mat-cell *matCellDef="let task">{{ task.title }}</td>
      </ng-container>

      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef>توضیحات</th>
        <td mat-cell *matCellDef="let task">{{ task.description || "-" }}</td>
      </ng-container>

      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef>تاریخ</th>
        <td mat-cell *matCellDef="let task">
          {{ task.date | persianDate }}
        </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let task">
          <button
            mat-icon-button
            color="primary"
            matTooltip="حذف"
            (click)="deleteTask(task)"
          >
            <mat-icon>delete_outline</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr
        class="table-header"
        mat-header-row
        *matHeaderRowDef="displayedColumns"
      ></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
  }
</div>
